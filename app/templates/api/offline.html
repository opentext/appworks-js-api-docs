<p>
    AppWorksJS allows you to work offline by storing http requests while the device is offline, and sending them
    once the device has come back online.
</p>


<h3>Queueing a Request</h3>
<p>
    Queue an http request to be made once the device comes back online. If the device is already online, the request
    is made immediately.
</p>

<p>
    In order to call a function upon completion of the request when the device goes from a state of
    offline to online, an callback must be registered with the <code>appworks.offline.registerEventHandler()</code>
    method. See example below.
</p>
<p>If an error occurs, an error event is automatically broadcast. the key is eventListener name + two underscores, followed by  the word 'error'</p>

<pre>
    <code>appworks.offline.queue => (url, options)</code>

    <code><b>url</b>: the request url</code>
    <code><b>options</b>: an options object to set request options and register event handlers.</code>
</pre>

<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-queue-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>

<h3>Register an Event Handler</h3>
<p>Register a callback function to be called when a request with a given eventListener key is returned.</p>
<p>
    For a callback function to be called, a request must also be queued using <code>appworks.offline.queue()</code>,
    passing the eventListener key as a property on the <code>options</code> parameter.
</p>

<pre>
    <code>appworks.offline.registerEventHandler => (eventName, handler)</code>

    <code><b>eventName</b>: the name of the event</code>
    <code><b>handler</b>: a handler to be called when an event with eventName is broadcast</code>
</pre>


<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-register-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>

<h3>Remove an Event Handler</h3>
<p>Unregister a callback function to be called when a request with a given eventListener key is returned.</p>

<pre>
    <code>appworks.offline.removeEventHandler => (eventName, handler)</code>

    <code><b>eventName</b>: the name of the event to unregister</code>
    <code><b>handler</b>: a handler to be removed from event with eventName</code>
</pre>

<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-remove-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>

<h3>Flush Pending Requests</h3>
<p>
    Flush all pending requests.
    Useful in making sure queued requests are sent when the device goes from offline to online, or when the app is
    loaded into memory.
</p>
<pre>
    <code>appworks.offline.flush => ()</code>
</pre>

<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-flush-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>

<h3>Get Stored Requests</h3>
<p>
    View the requests that have been queued.
</p>
<pre>
    <code>appworks.offline.getStoredRequests => (callback)</code>

    <code><b>callback</b>: a callback to execute on the array of stored requests</code>
</pre>

<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-get-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>

<h3>Generate Event ID</h3>
<p>
    Generate a unique event name key.
</p>
<pre>
    <code>appworks.offline.id => ()</code>
</pre>

<md-tabs md-dynamic-height md-border-bottom>
    <md-tab label="JS">
        <md-content class="md-padding">
            <p>Example:</p>
            <div hljs="" include="'templates/examples/offline/sample-id-ref.js'"></div>
        </md-content>
    </md-tab>
</md-tabs>